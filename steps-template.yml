parameters:
  - name: AUsefulParameter
  - name: AnotherUsefulParameter

steps:
  - script: |
      echo 'AUsefulParameter: ${{ parameters.AUsefulParameter }}, AnotherUsefulParameter: ${{ parameters.AnotherUsefulParameter }}'
  - ${{ if eq( variables.AUsefulVariable, 'PipelineLevelValue')}}:
      - script: echo 'PipelineLevelValue ${{ variables.AUsefulVariable }}'
  - ${{ if eq( variables.AUsefulVariable, 'StageLevelValue')}}:
      - script: echo 'JobLevelValue ${{ variables.AUsefulVariable }}'
  - ${{ if eq( variables.AUsefulVariable, 'JobLevelValue')}}:
      - script: echo 'JobLevelValue ${{ variables.AUsefulVariable }}'
  - script: printenv
    displayName: 'printenv'
  - script: echo "Hi there ${{ variables.GlobalVar }}"
  - script: echo "Hi there $(GlobalVar)"
  - ${{ each var in variables }}:
      - script: |
          echo "${{ var.Key }}: ${{ var.Value }}"
        displayName: 'Variable: ${{ var.Key }}'
